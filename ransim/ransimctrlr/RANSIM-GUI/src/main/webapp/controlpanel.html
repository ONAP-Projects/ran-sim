<!-- 
 * ============LICENSE_START=======================================================
 * Ran Simulator Controller
 * ================================================================================
 * Copyright (C) 2018 Wipro Limited.
 * ================================================================================
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * ============LICENSE_END=========================================================
 */ 
 -->

<!DOCTYPE html>
<html ng-app="myApp" ng-controller="myCtrl">
  <head>
	<script src="angular.min.js"></script> 
	<script>		  
	var app = angular.module('myApp', []);
	app.controller('myCtrl', function($scope, $window) {
		/*$scope.startSimulator = function() {
			$window.open('SimulationTrigger.html', '','menubar=no, locationbar=no, toolbar=no, width=600px, height=250px');
		};*/
		$scope.startSimulatorFile = function() {
                        document.getElementById("stopSimulator").disabled = false;
			document.getElementById("startSimulator").disabled = true;
			$window.open('SimulationTriggerFile.html', '','menubar=no, locationbar=no, toolbar=no, width=600px, height=250px');
		};
		$scope.stopSimulator = function() {
                        document.getElementById("stopSimulator").disabled = true;
			document.getElementById("startSimulator").disabled = false;
			$window.open('SimulationStop.html', '','menubar=no, locationbar=no, toolbar=no, width=600px, height=250px');
		};
		
		$scope.showOperationTable = function() {
			$window.open('operationhistory.html', '','menubar=no, locationbar=no, toolbar=no, width=600px, height=250px');
		};
		$scope.startPm = function() {
			
			document.getElementById("stopPm").disabled = false;
				document.getElementById("startPm").disabled = true;
			$window.open('startPm.html', '','menubar=no, locationbar=no, toolbar=no, width=600px, height=250px');
			/*
			var status;
			var xmlhttp = new XMLHttpRequest();
            		xmlhttp.onreadystatechange = function() {
                		if (this.readyState == 4 && this.status == 200) {
                    			status = JSON.parse(this.responseText);
					console.log(status);
					console.log("status");
                		}
            		};
           		 xmlhttp.open("GET", "http://ransimsvr:8081/ransim/api/GetPmDataStatus",
               			 true);
            		xmlhttp.send();
			
			if(status == true){
				document.getElementById("stopPm").disabled = false;
				document.getElementById("startPm").disabled = true;
			}*/
			
		};
		$scope.stopPm = function() {
			document.getElementById("stopPm").disabled = true;
			document.getElementById("startPm").disabled = false;
			$window.open('stopPm.html', '','menubar=no, locationbar=no, toolbar=no, width=600px, height=250px');
		};	
		
	});
	</script>
  </head>
  <body>
	<div id="controlpanel" class="absolute">
		RAN Simulation
		<br>
		<!-- button ng-click="startSimulator()">StartHoneycomb</button-->
		<button id="startSimulator" ng-click="startSimulatorFile()">Start</button>
		<button id="stopSimulator" ng-click="stopSimulator()" disabled>Stop</button><br>
		<br>
                <div id="operupdate" name="operuodate">1 cell updated, for details click below</div>
		<button ng-click="showOperationTable()">View</button>
		<br>
		<br>
		<div>PM data</div>
		<button id="startPm" ng-click="startPm()">Start</button>
		<button id="stopPm" ng-click="stopPm()" disabled>Stop</button>
		<br>

	</div>
	</body>
</html>
